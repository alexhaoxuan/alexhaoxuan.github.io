<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>JDK 8 之Stream 流 （一）基本应用 - 奶瓶</title><meta name="description" content="作者：骑着乌龟去看海 链接：https://www.jianshu.com/p/a01a1c21307d 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"/><meta property="og:description" content="作者：骑着乌龟去看海 链接：https://www.jianshu.com/p/a01a1c21307d 来源：简书 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"/>    <meta name="keywords" content="Solo,Java,博客,开源,服务器"/><link rel="dns-prefetch" href="https://alexhaoxuan.github.io"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://alexhaoxuan.github.io"><link rel="icon" type="image/png" href="https://static.b3log.org/images/brand/solo-32.png"/><link rel="apple-touch-icon" href="https://static.b3log.org/images/brand/solo-32.png"><link rel="shortcut icon" type="image/x-icon" href="https://static.b3log.org/images/brand/solo-32.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="JDK 8 之Stream 流 （一）基本应用 - 奶瓶"/><meta property="og:site_name" content="奶瓶"/><meta property="og:url"      content="https://alexhaoxuan.github.io/articles/2020/03/17/1584380580303.html?"/><meta property="og:image" content="https://static.b3log.org/images/brand/solo-32.png"/><link rel="search" type="application/opensearchdescription+xml" title="JDK 8 之Stream 流 （一）基本应用 - 奶瓶" href="/opensearch.xml"><link href="https://alexhaoxuan.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://alexhaoxuan.github.io/manifest.json">        <link rel="canonical" href="https://alexhaoxuan.github.io/articles/2020/03/17/1584380580303.html">        <link rel="stylesheet"
              href="https://alexhaoxuan.github.io/skins/Bubble/css/base.css?1583580097307"/>
            <link rel="prev" title="java项目中Classpath路径到底指的是哪里？" href="https://alexhaoxuan.github.io/articles/2020/03/10/1583811174789.html">
            <link rel="next" title="JDK 8 之Stream 流 （二） 实现原理" href="https://alexhaoxuan.github.io/articles/2020/03/17/1584380691820.html">
    </head>
<body class="fn__flex-column">
<div id="pjax" class="fn__flex-1">
    
    <progress class="fn__progress"></progress>
    <header class="header header--article">
        <div class="wrapper header__title">
            <h1 class="header__h1 fn__flex-inline">
                <a href="https://alexhaoxuan.github.io" rel="start">奶瓶</a>
            </h1>
            <h2 class="header__desc header__desc--title">不会是在踩坑就是在踩坑的路上</h2>
            <div class="header__desc">
                愿意用三辈子如烟火般美丽的生命去换取你一世的迷恋。
            </div>
            <svg class="header__down" id="headerDown" viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M15.992 25.304c-0 0-0 0-0.001 0-0.516 0-0.981-0.216-1.31-0.563l-0.001-0.001-14.187-14.996c-0.306-0.323-0.494-0.76-0.494-1.241 0-0.998 0.809-1.807 1.807-1.807 0.517 0 0.983 0.217 1.313 0.565l0.001 0.001 12.875 13.612 12.886-13.612c0.331-0.348 0.797-0.565 1.314-0.565 0.481 0 0.918 0.187 1.242 0.493l-0.001-0.001c0.723 0.687 0.755 1.832 0.072 2.555l-14.201 14.996c-0.33 0.348-0.795 0.564-1.311 0.564-0.001 0-0.003 0-0.004 0h0z"></path>
            </svg>
        </div>
    </header>
    <div class="side__menu">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M30 18h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2h28c1.1 0 2 0.9 2 2s-0.9 2-2 2zM30 6.25h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2h28c1.1 0 2 0.9 2 2s-0.9 2-2 2zM2 25.75h28c1.1 0 2 0.9 2 2s-0.9 2-2 2h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2z"></path>
        </svg>
        <span>
            &nbsp; menu
        </span>
    </div>
    <div class="side__main">
        <div class="side__bg"></div>
        <div class="side__panel">
            <svg class="side__close ft__a" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                 viewBox="0 0 20 20">
                <path d="M18.362 19.324c-0.902 0.902-2.363 0.902-3.263 0l-5.098-5.827-5.098 5.825c-0.902 0.902-2.363 0.902-3.263 0-0.902-0.902-0.902-2.363 0-3.263l5.304-6.057-5.306-6.061c-0.902-0.902-0.902-2.361 0-3.263s2.361-0.902 3.263 0l5.1 5.829 5.098-5.829c0.902-0.902 2.361-0.902 3.263 0s0.902 2.363 0 3.263l-5.304 6.061 5.304 6.057c0.902 0.902 0.902 2.363 0 3.265z"></path>
            </svg>

            <div class="side__header">
                <a href="https://alexhaoxuan.github.io" rel="start"><img class="side__logo" alt="奶瓶" src="https://img.hacpai.com/avatar/1581783925261_1581785093943.jpeg?imageView2/1/w/128/h/128/interlace/0/q/100"></a>

                <div class="side__meta">
                    16 文章 <br>
                    <span data-uvstaturl="https://alexhaoxuan.github.io">0</span> 浏览
                    
                </div>
            </div>

            <div class="side__title">
                <span>ღゝ◡╹)ノ❤️</span>
            </div>
            <ul class="side__nav">
                <li>
                    <a href="https://alexhaoxuan.github.io" rel="start">
                            奶瓶
                    </a>
                </li>
                    <li>
                        <a href="/my-github-repos" target="_self"><img
                                class="page-icon" src="/images/github-icon.png" alt="我的开源">我的开源</a>
                    </li>
                <li>
                    <a href="https://alexhaoxuan.github.io/categories.html">分类</a>
                </li>
                <li>
                    <a href="https://alexhaoxuan.github.io/tags.html">标签墙</a>
                </li>
                <li>
                    <a href="https://alexhaoxuan.github.io/archives.html">存档</a>
                </li>
                <li>
                    <a href="https://alexhaoxuan.github.io/links.html">友情链接</a>
                </li>
                <li>
                    <a rel="alternate" href="https://alexhaoxuan.github.io/rss.xml">RSS</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="article__top" style="background-image: url(https://img.hacpai.com/bing/20191205.jpg?imageView2/1/w/960/h/540/interlace/1/q/100)">
        <div style="background-image: url(https://img.hacpai.com/bing/20191205.jpg?imageView2/1/w/960/h/540/interlace/1/q/100)"></div>
        <canvas id="articleTop"></canvas>
    </div>
    <div class="article">
        <div class="ft__center">
            <div class="article__meta">
                <time>
                    2020-03-17
                </time>
                /
                    <a rel="tag"
                       href="https://alexhaoxuan.github.io/tags/Java">Java</a> &nbsp;
            </div>
            <h2 class="article__title">
                JDK 8 之Stream 流 （一）基本应用
                    <sup>
                        置顶！
                    </sup>
            </h2>
<div class="article__share"
     data-title="JDK 8 之Stream 流 （一）基本应用"
     data-blogtitle="奶瓶"
     data-url="https://alexhaoxuan.github.io/articles/2020/03/17/1584380580303.html"
     data-avatar="https://img.hacpai.com/avatar/1581783925261_1581785093943.jpeg?imageView2/1/w/128/h/128/interlace/0/q/100">
    <span class="item" data-type="qqz">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M22.824 13.989l-8.348 6.287s3.351 0.522 8.404 0.461l-0.23-1.040 7.2-6.549c0.132-0.12 0.183-0.312 0.129-0.487s-0.203-0.299-0.377-0.314l-9.492-0.856-3.708-9.213c-0.068-0.169-0.226-0.279-0.401-0.279s-0.333 0.11-0.401 0.279l-3.708 9.213-9.492 0.856c-0.174 0.015-0.323 0.139-0.377 0.314s-0.004 0.366 0.129 0.487l7.2 6.549-2.158 9.742c-0.040 0.178 0.026 0.365 0.168 0.474 0.142 0.107 0.331 0.115 0.481 0.021l8.158-5.165 8.158 5.165c0.070 0.045 0.147 0.066 0.225 0.066 0.090 0 0.18-0.029 0.256-0.086 0.142-0.109 0.208-0.295 0.168-0.474l-1.707-7.704c0.732-0.386 1.538-1.040 1.538-1.040s-3.195 1.638-14.664 0.838l8.312-6.325s-0.327-0.534-10.744-0.914c-0.697-0.026 8.493-1.83 15.281-0.305z"></path>
        </svg>
    </span>
    <span class="item" data-type="wechat">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
        </svg>
    </span>
    <span class="item" data-type="weibo">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
            <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
            <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
            <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
        </svg>
    </span>
    <span class="item" data-type="twitter">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
        </svg>
    </span>
    <span class="item__qr"></span>
</div>        </div>
        <div class="wrapper">
            <section class="vditor-reset articles article__content">
                <p><img src="https://img.hacpai.com/bing/20191205.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" alt=""></p>
<h4 id="toc_h4_0">一、前言</h4>
<h5 id="toc_h5_1">为什么需要 Stream</h5>
<p>Stream 作为 Java 8 的一大亮点，它与 java.io 包里的 InputStream 和 OutputStream 是完全不同的概念。它也不同于 StAX 对 XML 解析的 Stream，也不是 Amazon Kinesis 对大数据实时处理的 Stream。Java 8 中的 Stream 是对集合（Collection）对象功能的增强，它专注于对集合对象进行各种非常便利、高效的聚合操作（aggregate operation），或者大批量数据操作 (bulk data operation)。Stream API 借助于同样新出现的 Lambda 表达式，极大的提高编程效率和程序可读性。同时它提供串行和并行两种模式进行汇聚操作，并发模式能够充分利用多核处理器的优势，使用 fork/join 并行方式来拆分任务和加速处理过程。通常编写并行代码很难而且容易出错， 但使用 Stream API 无需编写一行多线程的代码，就可以很方便地写出高性能的并发程序。所以说，Java 8 中首次出现的 java.util.stream 是一个函数式语言 + 多核时代综合影响的产物。</p>
<h5 id="toc_h5_2">什么是聚合操作</h5>
<p>在传统的 J2EE 应用中，Java 代码经常不得不依赖于关系型数据库的聚合操作来完成诸如：</p>
<ul>
<li>客户每月平均消费金额</li>
<li>最昂贵的在售商品</li>
<li>本周完成的有效订单（排除了无效的）</li>
<li>取十个数据样本作为首页推荐</li>
</ul>
<p>这类的操作。</p>
<p>但在当今这个数据大爆炸的时代，在数据来源多样化、数据海量化的今天，很多时候不得不脱离 RDBMS，或者以底层返回的数据为基础进行更上层的数据统计。而 Java 的集合 API 中，仅仅有极少量的辅助型方法，更多的时候是程序员需要用 Iterator 来遍历集合，完成相关的聚合应用逻辑。这是一种远不够高效、笨拙的方法。在 Java 7 中，如果要发现 type 为 grocery 的所有交易，然后返回以交易值降序排序好的交易 ID 集合，我们需要这样写</p>
<h5 id="toc_h5_3">清单 1. Java 7 的排序、取值实现</h5>
<pre><code class="language-java">List&lt;Transaction&gt; groceryTransactions = new Arraylist&lt;&gt;();
    for(Transaction t:transactions){
        if (t.getType() == Transaction.GROCERY) {
            groceryTransactions.add(t);
        }
    }
Collections.sort(groceryTransactions,newComparator() {
 public int compare (Transaction t1, Transaction t2){
 return t2.getValue().compareTo(t1.getValue());
 }
});
List&lt;Integer&gt; transactionIds = new ArrayList&lt;&gt;();
    for(Transaction t:groceryTransactions){
        transactionsIds.add(t.getId());
    }
}
</code></pre>
<p>而在 Java 8 使用 Stream，代码更加简洁易读；而且使用并发模式，程序执行速度更快。</p>
<pre><code class="language-java">List&lt;Integer&gt; transactionsIds = transactions.parallelStream().
 filter(t -&gt; t.getType() == Transaction.GROCERY).
 sorted(comparing(Transaction::getValue).reversed()).
 map(Transaction::getId).
 collect(toList());
</code></pre>
<h2 id="toc_h2_4"><strong>Stream 总览</strong></h2>
<h3 id="toc_h3_5"><strong>什么是流</strong></h3>
<p><strong>Stream 不是集合元素，它不是数据结构并不保存数据，它是有关算法和计算的，它更像一个高级版本的 Iterator。原始版本的 Iterator，用户只能显式地一个一个遍历元素并对其执行某些操作；高级版本的 Stream，用户只要给出需要对其包含的元素执行什么操作，比如 “过滤掉长度大于 10 的字符串”、“获取每个字符串的首字母”等，Stream 会隐式地在内部进行遍历，做出相应的数据转换。</strong></p>
<p><strong>Stream 就如同一个迭代器（Iterator），单向，不可往复，数据只能遍历一次，遍历过一次后即用尽了，就好比流水从面前流过，一去不复返。</strong></p>
<p><strong>而和迭代器又不同的是，Stream 可以并行化操作，迭代器只能命令式地、串行化操作。顾名思义，当使用串行方式去遍历时，每个 item 读完后再读下一个 item。而使用并行去遍历时，数据会被分成多个段，其中每一个都在不同的线程中处理，然后将结果一起输出。Stream 的并行操作依赖于 Java7 中引入的 Fork/Join 框架（JSR166y）来拆分任务和加速处理过程。Java 的并行 API 演变历程基本如下：</strong></p>
<ol>
<li><strong>1.0-1.4 中的 java.lang.Thread</strong></li>
<li><strong>5.0 中的 java.util.concurrent</strong></li>
<li><strong>6.0 中的 Phasers 等</strong></li>
<li><strong>7.0 中的 Fork/Join 框架</strong></li>
<li><strong>8.0 中的 Lambda</strong></li>
</ol>
<p><strong>Stream 的另外一大特点是，数据源本身可以是无限的。</strong></p>
<h3 id="toc_h3_6"><strong>流的构成</strong></h3>
<p><strong>先上一段背景，总结就一句话：使用普通的集合处理方式太费劲（只是为了一个简单排序，就要进行集合遍历），所以 JDK 8 为了解决这个问题 引入了 stream ，就是对集合处理进行了一次封装。</strong></p>
<h4 id="toc_h4_7">二、Stream 结构及构建</h4>
<p><img src="https://img.hacpai.com/file/2020/03/image-87fdf314.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<pre><code>public interface Stream&lt;T&gt; extends BaseStream&lt;T, Stream&lt;T&gt;&gt;
public interface BaseStream&lt;T, S extends BaseStream&lt;T, S&gt;&gt;
    extends AutoCloseable {
</code></pre>
<p>可以看到，Stream 继承自 BaseStream 接口，而 BaseStream 又继承自 AutoCloseable 接口，顾名思义，AutoCloseable 负责流的自动关闭。</p>
<p>我们这里来了解下生成 Stream 的几种常用方式：</p>
<pre><code class="language-java">// 1. 借助Stream的of方法
Stream stream = Stream.of("a", "b", "c");
String [] strArray = new String[] {"a", "b", "c"};
// 2. 通过数组生成Stream
stream = Stream.of(strArray);
stream = Arrays.stream(strArray);
// 3. 通过集合来生成Stream
List&lt;String&gt; list = Arrays.asList(strArray);
stream = list.stream();
</code></pre>
<p>而对于基础数值类型，目前提供了三种对应的包装类型 Stream：<code>IntStream</code>，<code>LongStream</code>，<code>DoubleStrem</code>，当然我们也可以使用 <code>Stream&lt;Integer&gt;</code>、<code>Stream&lt;Long&gt;</code>、<code>Stream&lt;Double&gt;</code>，但是 boxing 和 unboxing 会很耗时，所以特别为这三种基本数值型提供了对应的 Stream。</p>
<h4 id="toc_h4_8">三、Stream 使用</h4>
<p>先说下 Stream 的类型，Stream 一般情况下包含了两个类型：中间操作(Intermediate)和结束操作(Terminal)：</p>
<ul>
<li><strong>Intermediate</strong>，所谓的中间操作，就是说每次调用做一些处理之后会返回一个新的 Stream，这类操作都是惰性的，也就是说并没有真正开始流的遍历。这些操作包括：map (mapToInt, flatMap 等)、 filter、 distinct、 sorted、 peek、 limit、 skip、 parallel 等；</li>
<li><strong>Terminal</strong>，一个 Stream 只能执行一次结束操作，而且只能是最后一个操作，执行 terminal 之后，Stream 被消费掉了，并且产生了一个结果，这些操作包括：forEach、 forEachOrdered、 toArray、 reduce、 collect、 min、 max、 count、 anyMatch、 allMatch、 noneMatch、 findFirst、 findAny 等；</li>
</ul>
<p>再简单说下 Stream 流的特点，Stream 其实有点类似于迭代器，每个 Stream 只能操作一次，操作过之后就不能再操作该对象了，也就是一种单向的，不可重复操作的对象。</p>
<h5 id="toc_h5_9">2. map 方法</h5>
<pre><code>List&lt;String&gt; list = Arrays.asList("stream", "map");
Stream&lt;String&gt; stream = list.stream();
List&lt;String&gt; newList = stream.map(input -&gt; input.toUpperCase()).collect(Collectors.toList());
</code></pre>
<p><strong>因为 Stream 只能使用一次，如果我们再操作的话就是抛出异常</strong>（这就是 流只能被消费一次的原因。Stream 就类比成一个杯子，杯子里的水就像 Stream 里的数据，你把杯子里的水拿出来了，杯子的水就没有了，Stream 也是同样的道理）：</p>
<pre><code class="language-java">List&lt;String&gt; newList = stream.map(input -&gt; input.toUpperCase()).collect(Collectors.toList());
newList = stream.map(input -&gt; input.toLowerCase()).collect(Collectors.toList());
</code></pre>
<pre><code class="language-java">Exception in thread "main" java.lang.IllegalStateException: stream has already been operated upon or closed
    at java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)
    at java.util.stream.ReferencePipeline.&lt;init&gt;(ReferencePipeline.java:94)
    at java.util.stream.ReferencePipeline$StatelessOp.&lt;init&gt;(ReferencePipeline.java:618)
    at java.util.stream.ReferencePipeline$3.&lt;init&gt;(ReferencePipeline.java:187)
    at java.util.stream.ReferencePipeline.map(ReferencePipeline.java:186)
</code></pre>
<h5 id="toc_h5_10">3. mapToInt/mapToLong/mapToDouble 方法</h5>
<p>顾名思义，这就是将对应的 Stream 转为 IntStream，LongStream，DoubleStream</p>
<pre><code>List&lt;Integer&gt; list = Arrays.asList(100, 200);
IntStream intStream = list.stream().mapToInt(input -&gt; input);
</code></pre>
<h5 id="toc_h5_11">4. flatMap 方法</h5>
<p>前面说过的 map 方法是一对一的输入输出，而 flatMap 方法则是一种一对多的映射关系。</p>
<pre><code>Stream&lt;List&lt;Integer&gt;&gt; inputStream = Stream.of(
        Arrays.asList(1),
        Arrays.asList(2, 3),
        Arrays.asList(4, 5, 6)
);
Stream&lt;Integer&gt; outputStream = inputStream.flatMap((childList) -&gt; childList.stream());
List&lt;Integer&gt; list = outputStream.collect(Collectors.toList());
System.out.println(list);
</code></pre>
<pre><code>[1,2,3,4,5,6]
</code></pre>
<p>flatMap 是对 input Stream 中的层级进行结构扁平化，就是将最底层元素抽出来放到一起，最终 output 的新 Stream 里面都是单个的数字。我们再来简单看下 map 方法的对应实现：</p>
<pre><code>// inputStream不变
Stream&lt;Stream&lt;Integer&gt;&gt; stream = inputStream.map(childList -&gt; childList.stream());
List&lt;List&lt;Integer&gt;&gt; list = stream.map(input -&gt; input.collect(Collectors.toList())).collect(Collectors.toList());
System.out.println(list);
</code></pre>
<pre><code>[[1], [2, 3], [4, 5, 6]]
</code></pre>
<p>从这里可以大致看出它们的区别，对于 flatMap 来说，它的输入输出大致如下：</p>
<pre><code>{{1,2}，{3,4}，{5,6}}  -&gt; flatMap  -&gt; {1,2,3,4,5,6}
</code></pre>
<p>而对 map 方法来说，则是：</p>
<pre><code>{{1,2}，{3,4}，{5,6}}  -&gt; map -&gt; {1,2}, {3,4},{5,6}
</code></pre>
<h5 id="toc_h5_12">5. filter 方法</h5>
<p>该方法用于对 Stream 中的元素按照某些条件进行过滤，过滤后的元素生成一个新的元素，比如过滤数组中的偶数：</p>
<pre><code class="language-java">Integer[] sixNums = {1, 2, 3, 4, 5, 6};
Stream.of(sixNums).filter(n -&gt; (n % 2 == 0)).forEach(num -&gt; System.out.print(num + " "));
</code></pre>
<pre><code>2 4 6 
</code></pre>
<h5 id="toc_h5_13">6. foreach 方法</h5>
<p>类似于 for 循环，用于遍历 Stream 中的每个元素，比较简单，可能需要注意的是，forEach 不能修改自己包含的本地变量值，也不能使用 break/return 之类的关键字提前结束循环：</p>
<pre><code>Stream&lt;String&gt; stream = Stream.of("hello", "world");
// 方式1
stream.forEach(num -&gt; System.out.print(num));
// 方式2
stream.forEach(System.out::print);
</code></pre>
<h5 id="toc_h5_14">7. findFirst</h5>
<p>返回 Stream 对象的第一个元素，由于返回的是 <code>Optional</code>，所以返回的值有可能为空：</p>
<pre><code>Stream&lt;String&gt; stream = Stream.of("hello", "world");
Optional&lt;String&gt; optional = stream.findFirst();
String name = optional.map(String::toLowerCase).orElse("");
System.out.println(name);
</code></pre>
<p>Optional 是 jdk8 提供的一种用于优雅的解决 NullPointExecption 的方式，等下篇文章我们来学习一下。</p>
<h5 id="toc_h5_15">8. reduce 方法</h5>
<p>这个方法的作用主要是把 Stream 中的元素组合起来，比如说字符串拼接，数值类型的求和等都是特殊的 reduce 操作，并且我们可以根据重载方法选择是否有初始值。</p>
<pre><code>// 字符串连接，concat = "ABCD"
String concat = Stream.of("A", "B", "C", "D").reduce("", String::concat);
// 求最小值，minValue = -3.0
double minValue = Stream.of(-1.5, 1.0, -3.0, -2.0).reduce(Double.MAX_VALUE, Double::min);
// 求和，sumValue = 10, 有起始值
int sumValue = Stream.of(1, 2, 3, 4).reduce(0, Integer::sum);
// 求和的另一种形式
int sum = Stream.of(1, 2, 3, 4).reduce(0, (a,b) -&gt; a+b);
// 求和，sumValue = 10, 无起始值
sumValue = Stream.of(1, 2, 3, 4).reduce(Integer::sum).get();
// 过滤，字符串连接，concat = "ace"
concat = Stream.of("a", "B", "c", "D", "e", "F")
        .filter(x -&gt; x.compareTo("Z") &gt; 0)
        .reduce("", String::concat);
</code></pre>
<p>上面代码例如第一个示例的 reduce()，第一个参数（空白字符）即为起始值，第二个参数（String::concat）为 BinaryOperator，这类有起始值的 reduce() 都返回具体的对象。而对于第四个示例没有起始值的 reduce()，返回的是 Optional，请留意这个区别。</p>
<h5 id="toc_h5_16">9. limit/skip 方法</h5>
<p>limit 方法用于返回 Stream 元素的前 n 个元素，而 skip 方法是跳过前 n 个元素返回剩余的元素：</p>
<pre><code class="language-java">List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
list.stream().limit(8).forEach(System.out::print);
System.out.println();
list.stream().limit(8).skip(3).forEach(System.out::print);
</code></pre>
<pre><code class="language-java">12345678
45678
</code></pre>
<h5 id="toc_h5_17">10. sorted</h5>
<p>sorted 方法是用于对 Stream 元素进行排序的，我们可以按照默认的自然排序规则进行排序， 也可以指定具体的比较器来进行排序：</p>
<pre><code>Stream&lt;T&gt; sorted();
Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator);
</code></pre>
<p>Stream 的 sorted 方法比数组的排序更强之处在于，你可以首先对 Stream 进行各类 map、filter、limit、skip 操作之后再进行排序：</p>
<pre><code class="language-java">List&lt;Integer&gt; list = Arrays.asList(5, 7, 1, 4, 2, 6, 3, 8, 9, 10);
list.stream().limit(5).sorted().forEach(System.out::print);
System.out.println();
list.stream().limit(5).sorted(Comparator.reverseOrder()).forEach(System.out::print);
</code></pre>
<pre><code class="language-java">12457
75421
</code></pre>
<h5 id="toc_h5_18">11. min/max/distinct 方法</h5>
<p>min 和 max 的功能也可以通过对 Stream 元素先排序，再 findFirst 来实现，但前者的性能会更好，为 O(n)，而 sorted 的成本是 O(n log n)。我们来看一下获取最小值的方式：</p>
<pre><code class="language-java">List&lt;Integer&gt; list = Arrays.asList(5, 7, 1, 4, 2, 6, 3, 8, 9, 10);
// 通过Stream的min方法
Integer min2 = list.stream().min(Comparator.naturalOrder()).get();
// 通过IntStrem的min方法
Integer min1 = list.stream().mapToInt(input -&gt; input).min().getAsInt();
</code></pre>
<p>而 distinct 方法是用于过滤重复数据的：</p>
<pre><code class="language-java">List&lt;Integer&gt; list = Arrays.asList(5, 7, 1, 7, 2, 6, 3, 9, 9, 10);
list.stream().distinct().forEach(System.out::print);
</code></pre>
<pre><code class="language-java">571263910
</code></pre>
<h5 id="toc_h5_19">12. allMatch/anyMatch/noneMatch 方法</h5>
<ul>
<li>allMatch， 对 Stream 中的所有元素进行判断，全部满足条件的时候返回 true，只要有一个不符合条件就返回 false；</li>
<li>anyMatch，Stream 中只要有一个满足条件，就返回 true；</li>
<li>noneMatch，Stream 中没有一个元素满足条件，这时返回 true；</li>
</ul>
<pre><code class="language-java">List&lt;Integer&gt; list = Arrays.asList(5, 7, 1, 7, 2, 6, 3, 9, 9, 10);
boolean isAllRight = list.stream().allMatch(input -&gt; (input &gt; 0));
boolean isAnyRight = list.stream().anyMatch(input -&gt; (input &gt; 2));
boolean isNoneRight = list.stream().noneMatch(input -&gt; (input &lt; 0));
System.out.println("isAllRight:" + isAllRight + " isAnyRight:" + isAnyRight + " isNoneRight:" + isNoneRight);
</code></pre>
<pre><code>isAllRight:true isAnyRight:true isNoneRight:true
</code></pre>
<h5 id="toc_h5_20">13. peek 方法</h5>
<p>  peek 方法，会生成一个包含原 Stream 的所有元素的新 Stream，同时会提供一个消费函数（Consumer 实例），新 Stream 每个元素被消费的时候都会执行给定的消费函数。比如说 foreach 方法是一个 terminal 操作，执行之后，Stream 就消费掉了，我们无法对一个 Stream 进行两次操作，而 peek 方法作为 intermediate 操作，则可以达到类似的目的：</p>
<pre><code>Stream.of("one", "two", "three", "four")
    .filter(e -&gt; e.length() &gt; 3)
    .peek(e -&gt; System.out.println("Filtered value: " + e))
    .map(String::toUpperCase)
    .peek(e -&gt; System.out.println("Mapped value: " + e))
    .collect(Collectors.toList());
</code></pre>
<pre><code class="language-java">Filtered value: three
Mapped value: THREE
Filtered value: four
Mapped value: FOUR
</code></pre>
<p>如上，我们可以在遍历列表的时候，先打印字符串，再将该字符串转成大写再打印出来。</p>
<p>另外，根据 API 的说明，该方法主要用于调试，方便 debug 查看 Stream 内进行处理的每个元素。</p>
<h5 id="toc_h5_21">14. forEachOrdered 方法</h5>
<p>  <code>forEachOrdered</code> 方法和 forEach 方法功能一样，都是用于遍历 Stream，不同的地方在于并行流的处理上。并行的时候 forEach 方法为了效率，它的顺序和 Stream 元素的顺序不一定完全一样，而 forEachOrdered 方法的顺序则是和 Stream 元素的顺序是一样的</p>
<pre><code class="language-java">List&lt;String&gt; list = Arrays.asList("x", "y", "z");

list.parallelStream().forEach(x -&gt; System.out.print(" " + x));
System.out.println();
list.parallelStream().forEachOrdered(x -&gt; System.out.print(" " + x));
System.out.println();

//输出的顺序不一定（效率更高）
Stream.of("AAA", "BBB", "CCC").parallel().forEach(s -&gt; System.out.print(" " + s));
System.out.println();
//输出的顺序与元素的顺序严格一致
Stream.of("AAA", "BBB", "CCC").parallel().forEachOrdered(s -&gt; System.out.print(" " + s));
</code></pre>
<pre><code class="language-java"> y x z
 x y z
 BBB CCC AAA
 AAA BBB CCC
</code></pre>
<h5 id="toc_h5_22">15. toArray 方法</h5>
<p>这个方法比较简单，就是返回对应的数组，该方法默认是返回 Object 数组，不过我们可以使用它的重载方法返回对应格式的数组</p>
<pre><code class="language-java">Object[] toArray();
&lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator);
</code></pre>
<p>Eg：</p>
<pre><code>List&lt;String&gt; list = Arrays.asList("x", "y", "z");
Object[] objects = list.stream().toArray();
Integer[] arrays = list.stream().toArray(Integer[]::new);
</code></pre>
<h5 id="toc_h5_23">16. count 方法</h5>
<p>count 方法表示获取 Stream 流中元素的数量，返回 long 类型：</p>
<pre><code class="language-Java">// 打印 4 
long num = Stream.of(1, 2, 3, 4).count();
// 打印 3
long num = Stream.of(1, 2, 3, 4).limit(3).count();
</code></pre>
<h5 id="toc_h5_24">17. findAny 方法</h5>
<p>findAny 方法表示从流中随便选择一个元素，该方法返回的值是不稳定的：</p>
<pre><code class="language-Java">Integer num = Stream.of(1, 2, 3, 4).findAny().get();
</code></pre>
<h5 id="toc_h5_25">18. collect 方法</h5>
<p>collect 方法我们前面已经接触过，有两个方法，我们先看一下简单的那个：</p>
<pre><code class="language-java">&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);
</code></pre>
<p>在前文中，我们使用 map 方法对流进行处理之后，返回的还是一个 Stream，而此时我们是无法我们的集合操作的，这时候就需要将流重新转换为集合框架中对应的集合，那么这时候我们就可以通过该方法来实现：</p>
<pre><code class="language-Java">List&lt;String&gt; list = Arrays.asList("hello", "world").stream().collect(Collectors.toList());
</code></pre>
<p>该方法接收一个 Collector 类型的参数，但幸运的是 Java8 给我们提供了 Collector 的工具类：Collectors，这其中已经定义了一些静态工厂方法，比如 <code>Collectors.toCollection()</code> 生成集合，<code>Collectors.toList()</code> 生成 List，<code>Collectors.toSet()</code> 生成 Set 等，Collectors 是个很好的工具类，封装了许多操作，后续我们再来介绍。</p>
<p>接下来，再简单看下该方法的另一个重载方法：</p>
<pre><code class="language-Java">&lt;R&gt; R collect(Supplier&lt;R&gt; supplier,
      BiConsumer&lt;R, ? super T&gt; accumulator,
      BiConsumer&lt;R, R&gt; combiner);
</code></pre>
<p>该方法比较复杂，我们先简单分析下，等以后如果用到了，再来仔细研究。该方法有三个参数：Supplier supplier 是一个工厂函数，用来生成一个新的容器；BiConsumer accumulator 也是一个函数，用来把 Stream 中的元素添加到结果容器中；BiConsumer combiner 还是一个函数，用来把中间状态的多个结果容器合并成为一个（并发的时候会用到）。来简单看一下例子吧：</p>
<pre><code class="language-java">List&lt;Integer&gt; nums = Arrays.asList(1, 1, null, 2, 3, 4, null, 5, 6, 7, 8, 9, 10);
List&lt;Integer&gt; numsWithoutNull = nums.stream().filter(num -&gt; num != null).
        collect(() -&gt; new ArrayList&lt;Integer&gt;(),
                (list, item) -&gt; list.add(item),
                (list1, list2) -&gt; list1.addAll(list2));
</code></pre>
<p>使用方法引用来优化下该例子：</p>
<pre><code class="language-java">List&lt;Integer&gt; nums = Arrays.asList(1, 1, null, 2, 3, 4, null, 5, 6, 7, 8, 9, 10);
List&lt;Integer&gt; numsWithoutNull = nums.stream().filter(num -&gt; num != null).
        collect(ArrayList::new, ArrayList::add, ArrayList::addAll);
</code></pre>
<p>接下来，说下该方法：该方法是将一个 Integer 类型的 List，先过滤掉为 null 的元素，然后把剩下的元素放到新的 List 中。再来看一下这些参数：</p>
<ul>
<li>
<ol>
<li>第一个函数生成一个新的 ArrayList 实例；</li>
</ol>
</li>
<li>
<ol>
<li>第二个函数接受两个参数，第一个是前面生成的 ArrayList 对象，第二个是 stream 中包含的元素，函数体就是把 stream 中的元素加入 ArrayList 对象中。第二个函数被反复调用直到原 stream 的元素被消费完毕；</li>
</ol>
</li>
<li>
<ol>
<li>第三个函数也是接受两个参数，这两个都是 ArrayList 类型的，函数体就是把第二个 ArrayList 全部加入到第一个中；</li>
</ol>
</li>
</ul>
<p>这么来看，这个方法是有点复杂，并且单看这个例子的话，是完全可以使用上面那个重载方法然后借助 Collectors.toList 来实现的。对这个方法的了解就到这了，等以后如果用到了，再来更新。</p>
<blockquote>
<p>接下来是 Stream 的静态方法，这些静态方法目的都是为了创建 Stream 流。</p>
</blockquote>
<h5 id="toc_h5_26">1. of 方法</h5>
<p>Stream 的 of 方法用来构建有序的 Stream 对象，有两个方法，提供单个对象及多个对象的构建：</p>
<pre><code class="language-e-cpp">public static&lt;T&gt; Stream&lt;T&gt; of(T t)
public static&lt;T&gt; Stream&lt;T&gt; of(T... values) 
</code></pre>
<p>比如说：</p>
<pre><code class="language-java">Stream stream = Stream.of("a");
IntStream intStream= IntStream.of(1, 2, 3);
</code></pre>
<h5 id="toc_h5_27">2. builder 方法</h5>
<p>  通过使用 Stream.builder 方法生成 Builder 对象，Builder 对象是 Stream 的可变构造器，也称为流构造器，该对象允许单独生成元素并添加到构造器，然后来生成流，来避免使用 ArrayList 作为临时缓冲区产生的复制开销。</p>
<p>  流构建器有一个生命周期，它从一个构建阶段开始，在这个阶段中可以添加元素，然后过渡到一个构建阶段，在这个阶段之后，可能不会添加元素。构建阶段从调用 build()方法开始，该方法创建一个有序流，其元素是按照添加到流构建器的顺序添加到流构建器的元素。</p>
<pre><code class="language-java">Stream.Builder builder = Stream.builder();
builder.accept("hello");
builder.add("world");
Stream stream = builder.build();
stream.forEach(input -&gt; System.out.print(input + " "));

//或者
Stream&lt;String&gt; streamBuilder = Stream.&lt;String&gt;builder().add("hello").add("world").build();
</code></pre>
<pre><code class="language-java">hello world 
</code></pre>
<h5 id="toc_h5_28">3. empty 方法</h5>
<p>创建一个不包含任何元素的有序的 Stream 流：</p>
<pre><code class="language-java">Stream&lt;Integer&gt; stream = Stream.empty();
</code></pre>
<h5 id="toc_h5_29">4. iterate 方法</h5>
<p>Stream 的 iterate 方法和 reduce 方法有点像，接受一个种子值，和一个 UnaryOperator（例如 f），然后种子值成为 Stream 的第一个元素，f(seed) 为第二个，f(f(seed)) 第三个，以此类推：</p>
<pre><code class="language-java">// 比如生成等差数列 0 3 6 9 12 15 18 21 24 27 
Stream.iterate(0, n -&gt; n + 3).limit(10). forEach(x -&gt; System.out.print(x + " "));
</code></pre>
<p>同样，iterate 也是无限的，在进行 iterate 的时候，必须要有 limit 这样的操作来限制大小，但 iterate 生成的 Stream 是连续且有序的。</p>
<h5 id="toc_h5_30">5. generate 方法</h5>
<p>  通过实现 Supplier 接口，我们可以自己来控制流的生成，这种情形通常用于随机数、常量的 Stream，把 Supplier 实例传递给 Stream.generate() ，这种生成的 Stream 流是无限的，所以我们必须使用 limit 等方法来限制 Stream 的大小，并且通过 generate 方法生成的 Stream 是无序的；</p>
<pre><code class="language-java">// 生成10个随机数
Stream.generate(new Random()::nextInt).limit(10).forEach(System.out::println);
//另外一种方式
IntStream.generate(() -&gt; (int) (System.nanoTime() % 100)).limit(10).forEach(System.out::println);
</code></pre>
<h5 id="toc_h5_31">6. concat 方法</h5>
<p>返回两个 Stream 流连接的流：</p>
<pre><code class="language-e-php">public static &lt;T&gt; Stream&lt;T&gt; concat(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b) 
</code></pre>
<pre><code class="language-java">Stream&lt;Integer&gt; stream1 = Stream.of(1, 2, 3, 4);
Stream&lt;Integer&gt; stream2 = Stream.of(5, 6, 7, 8);
Stream.concat(stream1, stream2).forEach(System.out::print);
</code></pre>
<h4 id="toc_h4_32">四、IntStream LongStream DoubleStream 补充</h4>
<p>因为这三个 Stream 中的操作属于数值操作，所以它们中有些方法 Stream 中并没有，我们也来简单介绍下。由于这三个 Stream 都差不多，我们就以 IntStream 来进行举例。</p>
<h5 id="toc_h5_33">1. sum/min/max/count/average 方法</h5>
<p>min，max，count 方法 Stream 中都有，只不过在 IntStream 中这些方法的参数和返回值可能和 Stream 方法的返回值有稍许的不同，不过功能是一样的。</p>
<pre><code class="language-java">// 计算min
IntStream.of(1, 2, 3, 4).min().getAsInt();
IntStream.of(1, 2, 3, 4).reduce(0, Integer::min);

// 计算max
IntStream.of(1, 2, 3, 4).max().getAsInt();
IntStream.of(1, 2, 3, 4).reduce(0, Integer::max);
</code></pre>
<p>sum 方法的话，就是用于计算 Stream 中元素值的和，同样也可也使用 reduce 方法来代替：</p>
<pre><code class="language-java">int sum = IntStream.of(1, 2, 3, 4).sum();
int sum = IntStream.of(1, 2, 3, 4).reduce(0, Integer::sum);
</code></pre>
<p>而 average 方法是用于计算平均值的，返回的是 OptionalDouble 类型：</p>
<pre><code class="language-java">// 计算平均值
double average = IntStream.of(1, 2, 3, 4).average().getAsDouble();
</code></pre>
<h5 id="toc_h5_34">2. summaryStatistics 方法</h5>
<p>该方法用于获取 Stream 流的各项汇总数据，我们直接看例子就明白了：</p>
<pre><code class="language-java">// 各种计算值的汇总数据
IntSummaryStatistics summaryStatistics = IntStream.of(1, 2, 3, 4).summaryStatistics();
// 平均值，元素个数，最大值，最小值，总和
System.out.println(summaryStatistics.getAverage());
System.out.println(summaryStatistics.getCount());
System.out.println(summaryStatistics.getMax());
System.out.println(summaryStatistics.getMin());
System.out.println(summaryStatistics.getSum());
</code></pre>
<h5 id="toc_h5_35">3. asLongStream/asDoubleStream 方法</h5>
<p>这两个方法比较简单，就是转为对应的 LongStream 流和 DoubleStream 流。</p>
<h5 id="toc_h5_36">4. boxed 方法</h5>
<p>基础类型的装箱操作，比如将 int 类型装箱称为 Integer 类型：</p>
<pre><code class="language-java">Stream&lt;Integer&gt; stream = IntStream.of(1, 2, 3, 4).boxed();
</code></pre>
<h5 id="toc_h5_37">5. range 方法</h5>
<p>range 方法是 IntStream 中的静态方法，用于构建某段范围的 IntStream 流：</p>
<pre><code class="language-java">public static IntStream range(int startInclusive, int endExclusive) 
</code></pre>
<p>创建的 Stream 流包含开始值 startInclusive(<strong>inclusive</strong>)，但不包含结束值 endExclusive(<strong>exclusive</strong>)：</p>
<pre><code class="language-java">IntStream intStream = IntStream.range(1, 5);
// 1 2 3 4 
intStream.forEach(x -&gt; System.out.print(x + " "));
</code></pre>
<h5 id="toc_h5_38">6. rangeClosed 方法</h5>
<p>rangeClosed 方法和 range 方法唯一的不同就是，创建的 Stream 流既包含开始值，又包含结束值，这点从参数命名上就可以知道。不得不说，该方法参数的命名很规范，值得我们学习：</p>
<pre><code class="language-java">public static IntStream rangeClosed(int startInclusive, int endInclusive)
</code></pre>
<p>对应的实例：</p>
<pre><code class="language-e-php">IntStream intStream = IntStream.rangeClosed(1, 5);
// 1 2 3 4 5 
intStream.forEach(x -&gt; System.out.print(x + " "));
</code></pre>
<h4 id="toc_h4_39">五、BaseStream 中的方法</h4>
<p>上面忘了说了，BaseStream 作为 Stream 的底层接口，有几个方法值得了解一下：</p>
<h5 id="toc_h5_40">1. parallel 方法</h5>
<p>返回一个并行的且等效流，可能返回该流本身，因为该 Stream 已经是并行的，或者该 Stream 的底层状态被修改为了并行。</p>
<h5 id="toc_h5_41">2. isParallel 方法</h5>
<p>判断该 Stream 是否是并行的：</p>
<pre><code class="language-Java">IntStream intStream = IntStream.rangeClosed(1, 5);
// false
boolean isParallel = intStream.isParallel();
// true
isParallel = intStream.parallel().isParallel();
</code></pre>
<h5 id="toc_h5_42">3. iterator/spliterator 方法</h5>
<p>这两个方法就比较简单了，iterator 就是返回迭代器对象，而 spliterator 则是返回一个并行的迭代器对象；</p>
<h5 id="toc_h5_43">4. unordered 方法</h5>
<p>  返回一个无序的等效的 Stream，可能返回的是 Stream 本身，因为该 Stream 已经是无序的，或者该 Stream 的底层状态被修改为了无序。当不考虑流的顺序时，可以使用无序的 Stream 来进行操作，这样可以加快一些方法的执行速度，提高一些性能，一般用于并行的时候。对于 unordered 方法有个小问题可参考：<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F21350195%2Fstream-ordered-unordered-problems%2F38038578" target="_blank">https://stackoverflow.com/questions/21350195/stream-ordered-unordered-problems/38038578</a></p>
<p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcoderanch.com%2Ft%2F692966%2Fcertification%2Funordered-streams" target="_blank">https://coderanch.com/t/692966/certification/unordered-streams</a></p>
                    <div>
                        <hr>

标题：JDK 8 之Stream 流 （一）基本应用<br>
作者：<a href="www.alexli.com.cn" target="_blank">alex18595752445</a><br>
地址：<a href="www.alexli.com.cn" target="_blank">https://alexhaoxuan.github.io/articles/2020/03/17/1584380580303.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
                    </div>
            </section>
        </div>

    </div>
        <div class="post__toc">
<ul class="article__toc">
        <li class="toc__h4">
            <a href="#toc_h4_0">一、前言</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_1">为什么需要 Stream</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_2">什么是聚合操作</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_3">清单 1. Java 7 的排序、取值实现</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_4">Stream 总览</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_5">什么是流</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_6">流的构成</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_7">二、Stream 结构及构建</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_8">三、Stream 使用</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_9">2. map 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_10">3. mapToInt/mapToLong/mapToDouble 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_11">4. flatMap 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_12">5. filter 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_13">6. foreach 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_14">7. findFirst</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_15">8. reduce 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_16">9. limit/skip 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_17">10. sorted</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_18">11. min/max/distinct 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_19">12. allMatch/anyMatch/noneMatch 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_20">13. peek 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_21">14. forEachOrdered 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_22">15. toArray 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_23">16. count 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_24">17. findAny 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_25">18. collect 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_26">1. of 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_27">2. builder 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_28">3. empty 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_29">4. iterate 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_30">5. generate 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_31">6. concat 方法</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_32">四、IntStream LongStream DoubleStream 补充</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_33">1. sum/min/max/count/average 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_34">2. summaryStatistics 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_35">3. asLongStream/asDoubleStream 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_36">4. boxed 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_37">5. range 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_38">6. rangeClosed 方法</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_39">五、BaseStream 中的方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_40">1. parallel 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_41">2. isParallel 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_42">3. iterator/spliterator 方法</a>
        </li>
        <li class="toc__h5">
            <a href="#toc_h5_43">4. unordered 方法</a>
        </li>
</ul>        </div>
        <div id="b3logsolocomments"></div>
        <div class="wrapper">
            <div id="vcomment"
                 style="    margin-bottom: 40px; margin-top: 80px;
        border: 1px solid rgba(255,255,255,0.8);
        border-radius: 5px;
        background: rgba(255,255,255,0.9);
        box-shadow: 0 1px 4px rgba(0,0,0,0.04);
        padding: 20px;"
                 data-name="alex18595752445" data-postId="1584380580303"></div>
        </div>
    <div class="article__bottom">
        <div class="wrapper">
            <div class="fn__flex">
                <div class="item" id="randomArticles"></div>
                <div class="item" id="relevantArticles"></div>
            </div>
        </div>
    </div>
    
</div>
<script type="text/javascript"
        src="https://alexhaoxuan.github.io/skins/Bubble/js/TweenMax.min.js?1583580097307"
        charset="utf-8"></script>
<footer class="footer">
    <div class="wrapper">
            <a href="https://hacpai.com/member/alex18595752445"
       title="https://hacpai.com/member/alex18595752445"
       class="user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/alexhaoxuan"
           title="https://github.com/alexhaoxuan"
           class="user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

        <a href="tencent://message/?uin=948928501"
           title="948928501"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M4.821 14.393c-0.125-0.304-0.143-0.607-0.143-0.929 0-0.5 0.321-1.304 0.625-1.679-0.018-0.464 0.179-1.411 0.536-1.714 0-3.304 2.554-7.464 5.536-8.893 1.839-0.875 3.768-1.179 5.786-1.179 1.571 0 3.286 0.375 4.75 0.982 4.196 1.768 5.143 5.054 6.036 9.25l0.018 0.089c0.518 0.786 0.982 1.714 0.982 2.679 0 0.482-0.321 0.964-0.321 1.393 0 0.036 0.107 0.179 0.125 0.214 1.536 2.268 2.929 4.732 2.929 7.554 0 0.625-0.339 2.804-1.339 2.804-0.696 0-1.464-1.696-1.714-2.161-0.018-0.018-0.036-0.018-0.054-0.018l-0.089 0.071c-0.571 1.482-1.196 2.875-2.357 3.982 1.018 0.982 2.661 0.893 2.964 2.589-0.089 0.196-0.054 0.411-0.196 0.607-1.018 1.536-3.75 1.732-5.393 1.732-2.179 0-3.946-0.571-6-1.179-0.429-0.125-1.071-0.054-1.536-0.107-1.089 1.196-3.75 1.518-5.286 1.518-1.357 0-6.607-0.089-6.607-2.411 0-1 0.214-1.286 0.911-1.929 0.554-0.107 0.964-0.411 1.607-0.446 0.089 0 0.161-0.018 0.25-0.036 0.018-0.018 0.036-0.018 0.036-0.071l-0.036-0.054c-1.232-0.286-2.964-3.393-3.232-4.679l-0.089-0.054c-0.125 0-0.179 0.268-0.214 0.357-0.393 0.911-1.321 1.893-2.357 2h-0.018c-0.143 0-0.089-0.143-0.196-0.179-0.25-0.589-0.411-1.125-0.411-1.786 0-3.571 1.714-6.214 4.5-8.321z"></path>
            </svg>
        </a>
        <a href="javascript:void(0)"
           class="user__site" title="wan948928501">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
            </svg>
        </a>
 <br>
        &copy; 2020
        <a href="https://alexhaoxuan.github.io">奶瓶</a>
        豫ICP备20003042号
        <span class="footer__heart">❤️</span>
        Powered by <a href="https://solo.b3log.org" target="_blank">Solo</a>
        <br>
        Theme Bubble
        <sup>[<a href="https://www.cnblogs.com/jajian" target="_blank">ref</a>]</sup>
        by <a href="http://vanessa.b3log.org" target="_blank">Vanessa</a> <br>
    </div>
</footer>
<svg class="side__top" id="sideTop" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
    <path d="M26.562 13.958c0 0.72 0.583 1.303 1.303 1.303s1.303-0.583 1.303-1.303v0c0-0.72-0.583-1.303-1.303-1.303s-1.303 0.583-1.303 1.303v0zM23.305 10.7c0 0 0 0 0 0 0 0.72 0.583 1.303 1.303 1.303s1.303-0.583 1.303-1.303c0-0 0-0 0-0v0c0-0 0-0 0-0 0-0.72-0.583-1.303-1.303-1.303s-1.303 0.583-1.303 1.303c0 0 0 0 0 0v0zM20.022 7.417c0 0 0 0 0 0 0 0.72 0.583 1.303 1.303 1.303s1.303-0.583 1.303-1.303c0-0 0-0 0-0v0c0-0 0-0 0-0 0-0.72-0.583-1.303-1.303-1.303s-1.303 0.583-1.303 1.303c0 0 0 0 0 0v0zM29.67 0h-27.339c-0.677 0-1.228 0.551-1.228 1.228s0.551 1.228 1.228 1.228h11.151l-10.725 10.725c-0.476 0.476-0.476 1.253 0 1.729 0.226 0.226 0.551 0.351 0.852 0.351s0.626-0.125 0.852-0.351l10.074-10.074v25.936c0 0.677 0.551 1.228 1.228 1.228s1.228-0.551 1.228-1.228v-26.011c0.476 0.426 1.203 0.426 1.679-0.050s0.476-1.253 0-1.729l-0.576-0.576h11.577c0.677 0 1.228-0.551 1.228-1.228 0-0.626-0.551-1.178-1.228-1.178z"></path>
</svg>
<script>
  var Label = {
    servePath: "https://alexhaoxuan.github.io",
    staticServePath: "https://alexhaoxuan.github.io",
    luteAvailable: false,
    hljsStyle: 'github',
    langLabel: "zh_CN",
    version: "3.9.0",
    staticSite: true,
    showCodeBlockLn: true,
  }
</script>
<script type="text/javascript"
        src="https://alexhaoxuan.github.io/skins/Bubble/js/common.min.js?1583580097307"
        charset="utf-8"></script>
<script type="text/javascript"
        src="https://alexhaoxuan.github.io/skins/Bubble/js/circleMagic.min.js?1583580097307"
        charset="utf-8"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.6/index.css"/>
<script async src="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.6/index.js"></script>
<div class="solo-kanbanniang">
    <div class="solo-kanbanniang__tip"></div>
    <canvas id="soloKanbanniang" width="280" height="250"></canvas>
    <div class="solo-kanbanniang__tool">
        <svg id="soloKanbanniangHome" viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32 18.967l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18.516v12h-8v-8h-8v8h-8v-12l12-9z"></path>
        </svg>
        <svg id="soloKanbanniangRSS" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M320.364 768q0 45.728-32 77.728t-77.728 32-77.728-32-32-77.728 32-77.728 77.728-32 77.728 32 32 77.728zM612.94 838.272q1.152 16-9.728 27.424-10.272 12-26.848 12h-77.152q-14.272 0-24.576-9.44t-11.424-23.712q-12.576-130.848-105.44-223.712t-223.712-105.44q-14.272-1.152-23.712-11.424t-9.44-24.576V402.24q0-16.576 12-26.848 9.728-9.728 24.576-9.728h2.848q91.424 7.424 174.848 46.016t148 103.712q65.152 64.576 103.712 148t46.016 174.848z m292.576 1.152q1.152 15.424-10.272 26.848-10.272 11.424-26.272 11.424h-81.728q-14.848 0-25.44-10.016t-11.136-24.288q-6.848-122.848-57.728-233.44t-132.288-192-192-132.288-233.44-58.272q-14.272-0.576-24.288-11.136t-10.016-24.864V109.664q0-16 11.424-26.272 10.272-10.272 25.152-10.272h1.728q149.728 7.424 286.56 68.576t243.136 168q106.848 106.272 168 243.136t68.576 286.56z"></path>
        </svg>
        <svg id="soloKanbanniangChat" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M802.42709 96.163153H219.476155c-84.48109 0-154.896836 71.746044-154.896836 157.840888v393.119449c0 86.072331 70.415746 157.819398 154.896836 157.819399h214.038818V925.470963s22.526039 40.168862 64.767096 5.734608c30.965246-25.819039 126.721123-91.828428 171.775248-123.385145h132.369773c84.502579 0 154.896836-83.21526 154.896836-157.839865V251.125481c0-86.094844-70.394257-154.962328-154.896836-154.962328zM301.144176 518.002714c-39.427988 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044 39.426965 0 70.393233 31.577183 70.393234 71.746044 0 40.169885-30.966269 71.746044-70.393234 71.746044z m208.411657 0c-39.450501 0-70.415746-31.576159-70.415746-71.746044 0-40.168862 30.965246-71.746044 70.415746-71.746044 39.405475 0 70.394257 31.577183 70.394257 71.746044 0 40.169885-30.988782 71.746044-70.394257 71.746044z m211.203236 0c-39.426965 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044s70.415746 31.577183 70.415746 71.746044c-0.001023 40.169885-30.988782 71.746044-70.415746 71.746044z"></path>
        </svg>
        <svg id="soloKanbanniangChange" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M936.672 193.216l-226.88-64c-8.704-2.528-18.112-1.12-25.824 3.776-7.68 4.864-12.896 12.736-14.432 21.728C655.712 236.928 595.328 288 512 288c-71.424 0-142.464-103.296-163.776-143.104-7.136-13.28-22.528-19.84-37.024-15.68l-224 64C73.472 197.152 64 209.728 64 224v256a31.93 31.93 0 0 0 11.712 24.736c7.392 6.08 17.152 8.512 26.56 6.624L224 487.04V832c0 52.928 43.072 96 96 96h384c52.928 0 96-43.072 96-96V519.04l121.728 24.352c9.44 1.92 19.2-0.544 26.56-6.624C955.68 530.656 960 521.6 960 512V224c0-14.336-9.536-26.912-23.328-30.784zM672 800H352c-17.664 0-32-14.304-32-32s14.336-32 32-32h320c17.696 0 32 14.304 32 32s-14.304 32-32 32z"></path>
        </svg>
        <svg id="soloKanbanniangPhoto" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M898.048 258.048q23.552-1.024 46.592 9.216t40.96 27.136 28.672 39.424 10.752 46.08l0 390.144q0 24.576-10.752 47.104t-28.672 40.448-40.96 28.16-47.616 10.24l-697.344 0q-24.576 0-48.64-10.24t-42.496-27.648-29.696-40.448-11.264-48.64l0-381.952q0-22.528 10.752-45.568t28.672-41.472 39.936-30.208 44.544-11.776l63.488 0 13.312-83.968q3.072-20.48 18.432-32.768t34.816-12.288l456.704 0q19.456 0 34.304 10.752t16.896 34.304l14.336 83.968 54.272 0zM548.864 712.704q40.96 0 77.824-15.872t63.488-42.496 42.496-62.976 15.872-77.312-15.872-77.312-42.496-62.976-63.488-42.496-77.824-15.872-77.312 15.872-63.488 42.496-43.008 62.976-15.872 77.312 15.872 77.312 43.008 62.976 63.488 42.496 77.312 15.872z"></path>
        </svg>
        <svg id="soloKanbanniangGithub" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M1024 524.8c0 114.346667-32.554667 217.216-97.706667 308.565333-65.066667 91.306667-149.162667 154.538667-252.288 189.610667-11.989333 2.304-20.778667 0.682667-26.325333-4.778667a27.605333 27.605333 0 0 1-8.362667-20.48v-144.213333c0-44.16-11.52-76.501333-34.645333-97.024 25.344-2.730667 48.085333-6.826667 68.309333-12.288a268.629333 268.629333 0 0 0 62.72-26.666667 187.434667 187.434667 0 0 0 53.973334-45.44c14.421333-18.005333 26.197333-41.898667 35.328-71.765333 9.088-29.824 13.653333-64.128 13.653333-102.826667 0-55.125333-17.536-102.058667-52.650667-140.8 16.426667-41.429333 14.677333-87.893333-5.333333-139.392-12.458667-4.096-30.464-1.578667-54.016 7.509334a355.328 355.328 0 0 0-61.312 30.08L640 271.274667a462.336 462.336 0 0 0-128-17.749334c-43.989333 0-86.656 5.930667-128 17.749334a589.824 589.824 0 0 0-28.330667-18.432c-11.776-7.253333-30.336-16.042667-55.68-26.325334-25.344-10.24-44.416-13.312-57.301333-9.216-19.584 51.498667-21.12 97.962667-4.693333 139.434667-35.114667 38.698667-52.650667 85.632-52.650667 140.757333 0 38.698667 4.565333 72.874667 13.653333 102.485334 9.130667 29.610667 20.778667 53.546667 34.986667 71.765333 14.250667 18.218667 32.128 33.493333 53.674667 45.781333 21.546667 12.288 42.453333 21.205333 62.677333 26.666667 20.224 5.461333 43.008 9.557333 68.309333 12.288-17.749333 16.384-28.629333 39.850667-32.64 70.4a130.005333 130.005333 0 0 1-29.994666 10.24c-10.666667 2.261333-23.338667 3.413333-37.973334 3.413333-14.72 0-29.269333-4.906667-43.690666-14.677333-14.464-9.813333-26.794667-24.064-36.992-42.709333a109.226667 109.226667 0 0 0-32.341334-35.541334c-13.141333-9.130667-24.106667-14.592-33.024-16.426666l-13.312-2.048c-9.344 0-15.786667 1.024-19.328 3.072-3.584 2.090667-4.693333 4.693333-3.328 7.893333 1.28 3.157333 3.328 6.4 5.973334 9.557333 2.688 3.2 5.546667 5.930667 8.661333 8.192l4.693333 3.413334c9.770667 4.565333 19.413333 13.226667 29.013334 25.984 9.514667 12.757333 16.512 24.362667 20.992 34.858666l6.656 15.701334c5.76 17.322667 15.530667 31.317333 29.312 42.026666 13.781333 10.666667 28.672 17.536 44.672 20.48 16 2.986667 31.445333 4.565333 46.336 4.821334 14.890667 0.213333 27.221333-0.597333 36.992-2.389334l15.36-2.730666c0 17.28 0.085333 37.546667 0.298666 60.8l0.341334 36.906666a27.050667 27.050667 0 0 1-8.661334 20.48c-5.76 5.461333-14.677333 7.082667-26.666666 4.778667-103.125333-35.072-187.221333-98.261333-252.330667-189.610667C32.554667 742.058667 0 639.146667 0 524.8c0-95.232 22.869333-183.04 68.693333-263.466667A516.266667 516.266667 0 0 1 254.976 70.4C333.44 23.466667 419.114667 0 512 0c92.885333 0 178.56 23.466667 256.981333 70.4a516.266667 516.266667 0 0 1 186.368 190.976C1001.130667 341.802667 1024 429.653333 1024 524.842667z"></path>
        </svg>
        <svg id="soloKanbanniangClose" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M517.572566143763 1018.6748601482986C238.26554897656422 1018.6748601482986 11.897910175114305 792.2714997690043 11.897910175114305 513.0002041796496c0-279.3070171671984 226.36763880144977-505.71037754649296 505.6746559686481-505.71037754649296 279.2712955893538 0 505.6746559686481 226.40336037929444 505.6746559686481 505.71037754649296C1023.2472221124112 792.2714997690043 796.8795833109612 1018.6748601482986 517.572566143763 1018.6748601482986zM754.7281214542927 339.25044954334646c13.752807470184345-13.752807470184345 9.680547595895998-40.186775075214015-9.073280772537204-58.94060344364717l-2.143294670678079-2.1075730928334457c-18.7538283684332-18.7538283684332-45.15207439561819-22.861809820566194-58.90488186580257-9.073280772537204l-168.21291007038468 168.24863164822932-180.42968969324974-180.46541127109438c-13.967136937252159-13.967136937252159-40.72259874288353-9.823433907274534-59.72647815622916 9.216167083915742l-2.143294670678079 2.143294670678079c-19.039600991190277 19.003879413345654-23.111860865478626 45.75934121897699-9.180445506071107 59.655035000539876l180.42968969324974 180.46541127109438-176.07165719620428 176.03593561835962c-13.788529048028984 13.824250625873615-9.716269173740633 40.151053497369375 9.073280772537204 58.94060344364717l2.1075730928334457 2.1075730928334457c18.7538283684332 18.7538283684332 45.15207439561819 22.897531398410823 58.90488186580257 9.073280772537204l176.10737877404887-176.10737877404887 170.39192631890742 170.42764789675192c13.967136937252159 13.931415359407513 40.686877165038865 9.85915548511917 59.690756578384516-9.180445506071107l2.1790162485227142-2.1790162485227142c19.039600991190277-18.968157835501014 23.147582443323273-45.72361964113239 9.180445506071107-59.690756578384516l-170.39192631890742-170.42764789675192L754.7281214542927 339.25044954334646z"></path>
        </svg>
    </div>
</div>

    <svg viewBox="0 0 32 32" width="100%" height="100%" class="side__top side__top--toc">
        <path d="M30 18h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2h28c1.1 0 2 0.9 2 2s-0.9 2-2 2zM30 6.25h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2h28c1.1 0 2 0.9 2 2s-0.9 2-2 2zM2 25.75h28c1.1 0 2 0.9 2 2s-0.9 2-2 2h-28c-1.1 0-2-0.9-2-2s0.9-2 2-2z"></path>
    </svg>

<script type="text/javascript">
    Util.addScript('https://alexhaoxuan.github.io/js/page.min.js?1583580097307', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论内容只能为 2 到 500 个字符！",
        "oId": "1584380580303",
        "blogHost": "https://alexhaoxuan.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 30ms, 2020/03/18 18:47:24 -->